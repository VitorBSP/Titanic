---
title: "Aqui você coloca o título"
author: "Aqui você coloca o autor(s)"
abstract: "Aqui você escreve o resumo"
header-includes:
   - \usepackage[brazil]{babel}
   - \usepackage{bm}
geometry: left=1.7cm, right=1.7cm, top=3.33cm, bottom=3.2cm
output:
  bookdown::pdf_document2:
editor_options:
  chunk_output_type: console
indent: true
---



```{r setup,include=F}

options(digits=3)  #Arrendodamento
options(scipen=999)
ggplot2::theme_set(ggplot2::theme_minimal()) #Tema dos gráficos produzidos no ggplot2
knitr::opts_chunk$set(echo=F,message=F,warning=F,fig.pos = 'H',fig.align = 'center',fig.width=7.8, fig.height=4.85)
scale_fill_discrete = \(...) ggplot2::scale_fill_brewer(... , palette="Set2") #Fixa a scale do fill dos gráficos do ggplot2
library(tidyverse)
library(tidymodels)


```




```{r}
df <- read_csv("Base de dados.csv")
df <- df %>% mutate(Sex = factor(Sex, unique(Sex)), 
                    Pclass = factor(Pclass, unique(Pclass)),
                    Survived = factor(Survived, unique(Survived)))
```

```{r}
data_split <- initial_split(df, prop = 3/4)
train_data <- training(data_split)
test_data  <- testing(data_split)
recipe_titanic <- recipe(Survived ~ ., data = train_data) %>% 
  update_role(PassengerId, Name, SibSp, Parch, Ticket, Fare, Cabin, Embarked, new_role = "ID") %>% 
  step_dummy(all_nominal_predictors())
engine1 <- logistic_reg() %>% 
  set_engine("glm")
wflow_titanic <-   workflow() %>% 
  add_model(engine1) %>% 
  add_recipe(recipe_titanic)
fit1 <- wflow_titanic %>% 
  fit(data = train_data)
  
fit1 %>%
  extract_fit_parsnip() %>% 
  tidy()
```




